<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

   
    <script src="//cdn.jsdelivr.net/npm/eruda"></script>
    <script>
      eruda.init();
    </script>

    <script>
     
Promise.all([navigator.permissions.query({ name: "accelerometer" })])
       .then(results => {
         if (results.every(result => result.state === "granted")) {
          
            console.log("All sensor granted")
        
       


          let acl = new Accelerometer({frequency: 5});
acl.addEventListener('reading', () => {
//   console.log("Acc X-axis " + acl.x);
//   console.log("Acc Y-axis " + acl.y);
//   console.log("Acc Z-axis " + acl.z);
const {x,y,z}=acl
//   Roll = Math.atan2(acl.y, acl.z) * 180/Math.PI / 2;
// Pitch = Math.atan2(-acl.x, Math.sqrt(acl.y*acl.y + acl.z*acl.z)) * 180/Math.PI / 2;


pitch = Math.atan2(z, -y) * 180 / Math.PI;// In degrees
roll = Math.atan2(x, -y) * 180 / Math.PI;// In degrees
yaw = Math.atan2(-x, -z) * 180 / Math.PI;// In degrees

document.body.innerHTML=`<pre>${JSON.stringify({roll,pitch,yaw},null,2)}</pre>`
});

acl.start();

         } else {
           console.log("No permissions to use AbsoluteOrientationSensor.");
         }
   });
    </script>


</body>
</html>